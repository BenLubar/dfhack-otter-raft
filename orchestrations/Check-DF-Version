for server WindowsBuilder
{
    Ensure-Directory $WorkingDirectory;

    if false
    {
        PSCall dfhack::check-df-version
        (
            workingDirectory: $WorkingDirectory,
            lastETag: $LastDFReleaseETag,
            lastModified: $LastDFReleaseModified,
            etag => $NewETag,
            modified => $NewModified,
            version => $VersionNumber,
            date => $Date,
            versions => @VersionFiles
        );

        foreach $FileName in @VersionFiles
        {
            # File
            {
                call DF-Handle-New-Version
                (
                    FileName: $FileName,
                    VersionNumber: $VersionNumber
                );
            }
        }
    }

    set $VersionNumber = 0.44.07;

    call Update-DF-Structures
    (
        VersionNumber: $VersionNumber
    );

    if false
    {
        Otter::Set-Variable
        (
            Credentials: Otter-Variables,
            Name: LastDFReleaseETag,
            Value: $NewETag
        );

        Otter::Set-Variable
        (
            Credentials: Otter-Variables,
            Name: LastDFReleaseModified,
            Value: $NewModified
        );
    }
}
