for server WindowsBuilder
{
    Ensure-Directory $WorkingDirectory;

    PSCall dfhack::check-df-version
    (
        workingDirectory: $WorkingDirectory,
        lastETag: $LastDFReleaseETag,
        lastModified: $LastDFReleaseModified,
        etag => $NewETag,
        modified => $NewModified,
        version => $VersionNumber,
        date => $Date,
        versions => @VersionFiles
    );

    if false
    {
        foreach $FileName in @VersionFiles
        {
            # File
            {
                call DF-Handle-New-Version
                (
                    FileName: $FileName,
                    VersionNumber: $VersionNumber
                );
            }
        }

        call Update-DF-Structures
        (
            VersionNumber: $VersionNumber
        );
    }

    Otter::Set-Variable
    (
        Credentials: Otter-Variables,
        Name: LastDFReleaseETag,
        Value: $NewETag
    );

    Otter::Set-Variable
    (
        Credentials: Otter-Variables,
        Name: LastDFReleaseModified,
        Value: $NewModified
    );
}
